{% extends 'admin/datatable_layout.html.twig' %}
{% block content %}
    <div class="panel">
        <div class="panel-heading">
            <div class="panel-title">
                {{ 'admin.event_type.title'|trans }}
                <a href="{{ path('admin_event_type_add') }}" class="btn btn-info add-btn">
                    {{ 'common.button.add'|trans }}
                </a>
            </div>
        </div>
        <div class="panel-body">
            <select id="select-event">
                {% for event in events %}
                    <option value="{{ event.id }}">{{ event.name }}</option>
                {% endfor %}
            </select>
            <input type="hidden" id="url-ajax-reservation" value="{{ path('admin_ajax_booking_list_index') }}"/>
            <div class="booking-list">
                {% include 'admin/booking/_booking_list.html.twig' %}
            </div>
        </div>
    </div>
    <script>
        $('#select-event').select2().change(function () {
            $.ajax({
                        method: "POST",
                        url: $('#url-ajax-reservation').val(),
                        data: {
                            event: $(this).val()
                        }
                    })
                    .done(function (data) {
                        $('.booking-list').html(data);
                    });
        });
    </script>
{% endblock %}
